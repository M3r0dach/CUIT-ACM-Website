{% extends "index/base.html" %}
{% block head %}
{% endblock %}

{% block loginbar %}
{% endblock %}

{% block content %}
  <div class="pull-left" style="width: 68%;min-width: 900px">
    <div class="block block-solid" id="general">
      <div class="block-header">
        <h3 class="block-title"><i class="fa fa-list-ol"></i> <span>水表</span></h3>
      </div>
      <div class="block-content collapse in">
        <table class="table table-bordered table-striped table-hover">
          <thead>
          <tr>
            <th>#</th>
            <th>姓名</th>
            <th>BNU</th>
            <th>HDU</th>
            <th>POJ</th>
            <th>ZOJ</th>
            <th>UVA</th>
            <th>BestCoder</th>
            <th>Codeforces</th>
            <th>Rating</th>
          </tr>
          </thead>
          <tbody>
          {% for info in info_list %}
            <tr>
              <td>{{ info['rank'] }}</td>
              <td><a href="{{ url_for('profile.index',username=info['username']) }}">{{ info['name'] }}</a></td>
              <td>{{ info['bnu']['solved'] }} / {{ info['bnu']['submitted'] }}</td>
              <td>{{ info['hdu']['solved'] }} / {{ info['hdu']['submitted'] }}</td>
              <td>{{ info['poj']['solved'] }} / {{ info['poj']['submitted'] }}</td>
              <td>{{ info['zoj']['solved'] }} / {{ info['zoj']['submitted'] }}</td>
              <td>{{ info['uva']['solved'] }} / {{ info['uva']['submitted'] }}</td>
              {% if info['bc_username'] %}
                <td><a href="http://bestcoder.hdu.edu.cn/rating.php?user={{ info['bc_username'] }}"
                       target="_blank">{{ info['bc']['rating'] }} (max {{ info['bc']['max_rating'] }})</a></td>
              {% else %}
                <td>{{ info['bc']['rating'] }} (max {{ info['bc']['max_rating'] }})</td>
              {% endif %}
              {% if info['cf_username'] %}
                <td><a href="http://codeforces.com/profile/{{ info['cf_username'] }}"
                       target="_blank">{{ info['cf']['rating'] }} (max {{ info['cf']['max_rating'] }})</a></td>
              {% else %}
                <td>{{ info['cf']['rating'] }} (max {{ info['cf']['max_rating'] }} )</td>
              {% endif %}
              <td>{{ info['score'] }}</td>
            </tr>
          {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <div class="pull-right" style="width: 23%">
    <div class="block block-solid">
      <div class="block-header">
        <h3 class="block-title"><i class="fa fa-list-ol"></i> <span>本周刷题榜</span></h3>
      </div>
      <div class="block-content">
        <table class="table table-bordered table-striped table-hover">
          <thead>
          <tr>
            <th>#</th>
            <th>姓名</th>
            <th>通过</th>
            <th>总提交</th>
          </tr>
          </thead>
          <tbody>
          {% for info in weekly_rank %}
            <tr>
              <td>{{ info['rank'] }}</td>
              <td><a href="{{ url_for('profile.index',username=info['username']) }}">{{ info['name'] }}</a></td>
              <td>{{ info['solved'] }}</td>
              <td>{{ info['submitted'] }}</td>
            </tr>
          {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
    <div class="block block-solid">
      <div class="block-header">
        <h3 class="block-title"><i class="fa fa-list-ol"></i> <span>上周刷题榜</span></h3>
      </div>
      <div class="block-content">
        <table class="table table-bordered table-striped table-hover">
          <thead>
          <tr>
            <th>#</th>
            <th>姓名</th>
            <th>通过</th>
            <th>总提交</th>
          </tr>
          </thead>
          <tbody>
          {% for info in last_rank %}
            <tr>
              <td>{{ info['rank'] }}</td>
              <td><a href="{{ url_for('profile.index',username=info['username']) }}">{{ info['name'] }}</a></td>
              <td>{{ info['solved'] }}</td>
              <td>{{ info['submitted'] }}</td>
            </tr>
          {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
  </div>
{% endblock %}
{% block script %}
{% endblock %}