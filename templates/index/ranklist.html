{% extends "index/base.html" %}
{% block head %}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/ranklist.css') }}">
{% endblock %}

{% block content %}
  <div class="row">
    <div class="col-sm-12">
      <div class="col-md-9">
        <div class="box box-primary">
          <div class="box-header with-border">
            <h3 class="box-title"><i class="fa fa-list-ol"></i> <span>水表</span></h3>
          </div>
          <div class="box-body no-padding">
            <table class="table text-center">
              <thead><tr><th>#</th><th>学生</th><th>BNU</th><th>HDU</th><th>POJ</th><th>ZOJ</th><th>UVA</th>
                            <th>Virtual<br>Judge</th><th>BestCoder</th><th>Codeforces</th></tr></thead>
              <tbody>
              {% for info in info_list %}
                <tr>
                  <td  width="30">{{ info['rank'] }}</td>
                  <td class="stu-grid" width="100">
                    <ul class="stu-meta">
                      <li ><a href="{{ url_for('profile.index',username=info['username']) }}"
                              target="_blank" style="color:{{ function.user_rank_color(info['score']) }}">{{ info['name'] }}</a></li>
                    </ul>
                  </td>
                  <td width="80">{{ info['bnu']['solved'] }} / {{ info['bnu']['submitted'] }}</td>
                  <td width="80">{{ info['hdu']['solved'] }} / {{ info['hdu']['submitted'] }}</td>
                  <td width="80">{{ info['poj']['solved'] }} / {{ info['poj']['submitted'] }}</td>
                  <td width="80">{{ info['zoj']['solved'] }} / {{ info['zoj']['submitted'] }}</td>
                  <td width="80">{{ info['uva']['solved'] }} / {{ info['uva']['submitted'] }}</td>
                  <td width="80">{{ info['vj']['solved'] }} / {{ info['vj']['submitted'] }}</td>
                  {% if info['bc_username'] %}
                    <td width="100"><a href="http://bestcoder.hdu.edu.cn/rating.php?user={{ info['bc_username'] }}"
                           target="_blank">{{ info['bc']['rating'] }} (max {{ info['bc']['max_rating'] }})</a>
                    </td>
                  {% else %}
                    <td width="100">{{ info['bc']['rating'] }} (max {{ info['bc']['max_rating'] }})</td>
                  {% endif %}
                  {% if info['cf_username'] %}
                    <td width="100"><a href="http://codeforces.com/profile/{{ info['cf_username'] }}"
                           target="_blank">{{ info['cf']['rating'] }} (max {{ info['cf']['max_rating'] }})</a>
                    </td>
                  {% else %}
                    <td width="100">{{ info['cf']['rating'] }} (max {{ info['cf']['max_rating'] }} )</td>
                  {% endif %}
                </tr>
              {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="nav-tabs-custom">
          <ul class="nav nav-tabs">
            <li class="active"><a href="#tab_1" data-toggle="tab" aria-expanded="false">本周刷题榜</a></li>
            <li class=""><a href="#tab_2" data-toggle="tab" aria-expanded="false">上周刷题榜</a></li>
          </ul>
          <div class="tab-content no-padding">
            <div class="tab-pane active" id="tab_1">
              <table class="table table-bordered table-striped table-hover text-center">
                <thead>
                <tr>
                  <th>#</th>
                  <th>姓名</th>
                  <th>通过</th>
                  <th>总提交</th>
                </tr>
                </thead>
                <tbody>
                {% for info in weekly_rank %}
                  <tr>
                    <td>{{ info['rank'] }}</td>
                    <td><a href="{{ url_for('profile.index',username=info['username']) }}" style="color:{{ function.user_rank_color(info['score']) }}">{{ info['name'] }}</a></td>
                    <td>{{ info['solved'] }}</td>
                    <td>{{ info['submitted'] }}</td>
                  </tr>
                {% endfor %}
                </tbody>
              </table>
            </div>
            <!-- /.tab-pane -->
            <div class="tab-pane" id="tab_2">
              <table class="table table-bordered table-striped table-hover text-center">
                <thead>
                <tr>
                  <th>#</th>
                  <th>姓名</th>
                  <th>通过</th>
                  <th>总提交</th>
                </tr>
                </thead>
                <tbody>
                {% for info in last_week_rank %}
                  <tr>
                    <td>{{ info['rank'] }}</td>
                    <td><a href="{{ url_for('profile.index',username=info['username']) }}" style="color:{{ function.user_rank_color(info['score']) }}">{{ info['name'] }}</a></td>
                    <td>{{ info['solved'] }}</td>
                    <td>{{ info['submitted'] }}</td>
                  </tr>
                {% endfor %}
                </tbody>
              </table>
            </div>
            <!-- /.tab-pane -->
          </div>
          <!-- /.tab-content -->
        </div>
      </div>
    </div>
  </div>
{% endblock %}
{% block script %}
{% endblock %}